### 1. Определение системы и встроенной системы. Основные компоненты

**Техническое описание:**

* **Система** — это логически связанная совокупность взаимодействующих элементов, предназначенная для достижения определенной цели.
* **Встроенная система (Embedded System)** — это специализированная компьютерная система, предназначенная для выполнения одной или нескольких строго определенных функций. Она встраивается в устройство как его часть, часто работая в режиме реального времени.
* **Компоненты:**
1. **Hardware (Железо):** Процессор/контроллер, память, порты ввода-вывода.
2. **Software (ПО):** Прошивка (Firmware), которая управляет железом.
3. **Механическая часть:** Корпус, датчики, исполнительные механизмы (моторы, реле).



> **Объяснение «для придурка»:** > Представь обычный компьютер — он умеет всё: и в игры играть, и рефераты писать. А «встроенная система» — это узкий специалист. Например, «мозги» внутри твоей микроволновки. Она не умеет открывать браузер, она умеет только крутить тарелку и греть еду.
> **Компоненты:** Железо (сама плата), Программа (алгоритм «греть 2 минуты») и Датчики (кнопки и замок на двери).

---

### 2. Характеристики встроенной системы

**Техническое описание:**

* **Специфичность:** Создается под одну задачу.
* **Ограниченность ресурсов:** Минимум памяти, слабая мощность процессора (для экономии денег и энергии).
* **Реальное время:** Ответ на событие должен произойти за строго отведенное время (детерминизм).
* **Автономность:** Должна работать годами без перезагрузки и участия человека.

> **Объяснение «для придурка»:** > Это как верный пес: он делает только то, чему научили, ест очень мало (мало энергии), реагирует мгновенно, если нажать на кнопку, и ему не нужен монитор или клавиатура, чтобы просто выполнять свою работу.

---

### 3. Основные определения

* **Детерминизм:** Свойство системы выдавать предсказуемый результат за предсказуемое время.
* **Latency (Задержка):** Время между событием (нажатие кнопки) и реакцией системы.
* **Прошивка (Firmware):** ПО, которое записывается в энергонезависимую память и не меняется пользователем.

> **Объяснение «для придурка»:** > Детерминизм — это когда ты уверен, что если нажмешь на тормоз в машине, она затормозит через 0.1 секунды, а не когда ей захочется. Прошивка — это «инстинкты» устройства, которые в него вбили при рождении на заводе.

---

### 4. Типы встраиваемых систем (Масштабы)

**Техническое описание:**

1. **Маломасштабные (Small-scale):** 8/16-битные МК (типа 8051 или AVR). Программируются на Ассемблере или C. Память — единицы КБ.
2. **Среднего масштаба (Medium-scale):** 16/32-битные МК. Используют ОСРВ (RTOS). Более сложная периферия.
3. **Сложные (Sophisticated):** Мощные 32/64-битные процессоры, часто многоядерные. Работают со сложным видео, сетями, ИИ.

> **Объяснение «для придурка»:** > 1. **Малые:** Калькулятор или электронные весы. Простые как кирпич.
> 2. **Средние:** Кофемашина с экраном или умный дверной замок.
> 3. **Сложные:** Автопилот в Тесле или современный роутер. Там уже почти полноценный компьютер внутри.

---

### 5. Микроконтроллер (МК) vs Микропроцессор (МП)

**Техническое описание:**

* **Микропроцессор (MPU):** Только ядро (CPU). Память (RAM, Flash) и периферия подключаются снаружи на плате. Пример: Intel Core i7.
* **Микроконтроллер (MCU):** «Всё в одном». На одном кристалле и процессор, и память, и таймеры, и порты. Пример: STM32, Arduino (ATmega).
* **Применение:** МК — там, где надо дешево и компактно (бытовая техника). МП — там, где нужна огромная мощь (серверы, ноутбуки).

> **Объяснение «для придурка»:** > Микропроцессор — это просто крутой двигатель. Чтобы машина поехала, тебе надо отдельно купить колеса, бензобак и руль.
> Микроконтроллер — это уже готовая маленькая машинка: сел и поехал.

---

### 6. Преимущества и недостатки

**Техническое описание:**

* **Плюсы:** Низкая цена при массе, компактность, высокая надежность (меньше деталей — меньше поломок), низкое энергопотребление.
* **Минусы:** Сложно обновлять (часто нельзя), трудно разрабатывать (нужны знания железа), ограниченность апгрейда.

> **Объяснение «для придурка»:** > Плюс: дешево и работает годами в пыли и холоде.
> Минус: если ты купил умную лампочку, ты не сможешь добавить в неё «больше оперативной памяти», чтобы она светила быстрее. Что купил — с тем и живешь.

---

### 7. Типы процессоров (GPP, ASIP, DSP)

* **GPP (General Purpose):** Обычные процессоры «для всего».
* **ASIP:** Процессор, заточенный под конкретную команду (например, для шифрования).
* **DSP (Digital Signal Processor):** Процессор для математики «на лету» (обработка звука, видео).

> **Объяснение «для придурка»:** > GPP — это мастер на все руки. DSP — это математик-задрот, который считает синусы быстрее всех в мире, но не умеет жарить картошку.

---

### 8. Блок-диаграмма микропроцессора

**Техническое описание:**
Включает в себя:

1. **ALU (АЛУ):** Выполняет сложение, вычитание, И, ИЛИ.
2. **Control Unit (Устройство управления):** Декодирует команды.
3. **Registers:** Сверхбыстрая память внутри ядра.

> **Объяснение «для придурка»:** > АЛУ — это калькулятор. Регистры — это черновик на столе. Устройство управления — это начальник, который читает инструкцию и говорит: «Так, сложи число из черновика А с черновиком Б».

---

### 9. Архитектура фон Неймана

**Техническое описание:**
Используется **одна общая шина** для команд и для данных.

* **Особенность:** Процессор не может одновременно читать программу и данные. Возникает «узкое место» (bottleneck).
* **Плюс:** Простота конструкции.

---

### 10. Гарвардская архитектура

**Техническое описание:**
**Раздельные шины** для памяти программ и памяти данных.

* **Особенность:** Можно одновременно читать инструкцию и записывать результат в память.
* **Плюс:** Быстродействие.

---

### 11. Сравнение архитектур (VN vs H) и (CISC vs RISC)

* **VN vs H:** Гарвардская быстрее, но сложнее в разводке плат. Фон Нейман проще.
* **CISC (Complex Instruction Set):** Одна команда делает много дел (длинные команды).
* **RISC (Reduced Instruction Set):** Команды простые, короткие, выполняются за 1 такт.

> **Объяснение «для придурка»:** > CISC — это команда «сделай бутерброд». Она сложная, её долго понимать.
> RISC — это команды: «возьми хлеб», «отрежь», «положи колбасу». Каждая простая и быстрая. В итоге RISC обычно выигрывает по скорости.

---

### 12. Инструменты (Компилятор, Кросс-компилятор и др.)

* **Компилятор:** С С++ в код для твоего ПК.
* **Кросс-компилятор:** С С++ на ПК в код для микроконтроллера (самый важный инструмент разработчика ВсС).
* **Декомпилятор:** Пытается превратить нули и единицы обратно в текст программы.

> **Объяснение «для придурка»:** > Компилятор — это переводчик. Кросс-компилятор — это переводчик, который сидит в России, но переводит текст на древнеэльфийский для жителей другой планеты.

---

### 13. Ассемблеры и Средства отладки

* **Ассемблер:** Переводит мнемоники (типа `MOV A, B`) в бинарный код.
* **Отладка:** JTAG/SWD интерфейсы, которые позволяют «заглянуть» внутрь контроллера, пока он работает.

---

### 14. Симуляторы и Эмуляторы

* **Симулятор:** Чисто программная имитация на ПК.
* **Эмулятор:** Аппаратная замена процессора, которая ведет себя идентично, но дает полный контроль.
* **Стартовый комплект:** Готовая платка (как Arduino или Nucleo) для новичков.

> **Объяснение «для придурка»:** > Симулятор — это игра в «симулятор вождения» на компе. Эмулятор — это профессиональный тренажер с настоящим рулем и педалями.

---

### 15. Критерии выбора микроконтроллера

При выборе смотрят на:

1. **Скорость (МГц).**
2. **Память (Flash/RAM).**
3. **Периферия:** Есть ли там АЦП, UART, USB?
4. **Питание:** Сколько «жрет» от батарейки.
5. **Цена.**

---

### 16. ПЛИС (FPGA) и PLA

* **ПЛИС:** Микросхема, внутри которой нет фиксированной логики. Ты «программируешь» саму структуру связей между транзисторами.
* **PLA:** Простейшая матрица из элементов И-ИЛИ.

> **Объяснение «для придурка»:** > Обычный контроллер — это готовая квартира с перегородками. ПЛИС — это конструктор LEGO: ты можешь собрать из него хоть замок, хоть машину, переставив детали.

---

### 17. CPLD и FPGA. Логический элемент

* **CPLD:** Меньше, дешевле, помнит прошивку после выключения.
* **FPGA:** Огромные, дорогие, при выключении всё забывают (нужна внешняя флешка), но зато могут заменить собой целый компьютер.
* **Логический элемент (LE):** Кирпичик, из которого строится всё внутри FPGA.

---

### 18. Системы-на-кристалле (SoC)

**Техническое описание:**
Это когда на один чип запихнули всё: процессор, видеокарту, Wi-Fi, Bluetooth и память. Пример: чип Apple M1 или процессоры в смартфонах.

---

### 19. Типовая структура процессора ВсС

Включает **Базовый блок** (ядро) и **Изменяемые блоки** (доп. функции под заказчика). Это позволяет делать процессоры под конкретные нужды (например, только для обработки звука).

---

### 20. Прерывания (Interrupts)

**Техническое описание:**
Механизм, позволяющий внешнему устройству мгновенно остановить работу процессора, чтобы тот выполнил срочную задачу (обработчик прерывания).

* **Маскирование:** Возможность «игнорировать» некоторые прерывания, если процессор занят чем-то очень важным.

> **Объяснение «для придурка»:** > Ты читаешь книгу. Зазвонил телефон. Ты заложил страницу пальцем (сохранил контекст), ответил на звонок (обработал прерывание), и вернулся читать с того же места.

---

### 21. Модули памяти. ПЗУ (ROM)

* **ROM:** Не стирается при выключении.
* **Mask ROM:** Штампуется на заводе (нельзя изменить).
* **Flash:** Самое современное, можно перешивать тысячи раз.

---

### 22. ОЗУ (RAM): SRAM vs DRAM

* **SRAM (Статическая):** Очень быстрая, дорогая. Используется в кэш-памяти и МК. Не требует обновления.
* **DRAM (Динамическая):** Дешевая, большая. Требует постоянного «подзаряда» (регенерации), иначе данные пропадут. Стоит в твоем ПК как «планки памяти».

---

### 23-27. EEPROM (Энергонезависимая память) и чип AT24Cxx

**Техническое описание:**

* **EEPROM:** Память, которую можно стирать побайтово (в отличие от Flash, которая стирается блоками).
* **AT24Cxx:** Популярная серия чипов, работающая по шине **I2C**.
* **Выводы:** SDA (данные), SCL (частота), WP (защита от записи).
* **Адресация:** Каждое устройство на шине имеет свой 7-битный адрес.
* **Запись/Чтение:** Бывает побайтовая и страничная (пачкой).

> **Объяснение «для придурка»:** > Это как «флешка-малышка» для хранения настроек (например, громкость телевизора), которые не должны пропасть после выключения из розетки.

---

### 28-30. Порты ввода-вывода (I/O)

* **Push-Pull (Двухтактный):** Выход может жестко выдать либо 1 (напряжение), либо 0 (земля). Хорошо для светодиодов.
* **Open-Drain (Открытый сток):** Выход может только «прижать к земле» (выдать 0). Чтобы получить 1, нужен внешний резистор (pull-up). Идеально для объединения нескольких устройств на один провод (как в I2C).

> **Объяснение «для придурка»:** > **Push-Pull:** Это как переключатель, который либо подключает лампочку к батарейке, либо к земле.
> **Open-Drain:** Это как если бы у тебя был только выключатель, соединяющий с землей. Чтобы лампочка горела, она должна быть уже подключена к плюсу через слабую пружинку (резистор). Если ты нажал кнопку — она погасла (короткое на землю).



